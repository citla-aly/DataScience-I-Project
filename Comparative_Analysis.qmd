---
title: "Comparative analysis of the financial structure and solvency of the insurance sector in EU countries: approach based on Solvency II indicators"
author:
  - Alejandra Citlalli Pacheco Tovar
  - Aranxa Perez Oviedo
  - Laura Benczédi Munar
institute: HEC Lausanne #TODO: make sure authors and affiliations are correct 
date: "2025-11-12"
format: 
  html:
    number-sections: true
    html-math-method: katex #mathjax
    self-contained: true
    embed-resources: true
    code-overflow: wrap
    code-fold: true
    code-tools: true
    toc: true
    toc-location: left
    toc-depth: 3
    toc-show: true
    title-block-banner: "#01263a" # blue 90
    echo: true # Show code in HTML (but folded)
    include-in-header: # add custom css to make the text in the `</> Code` dropdown black
      text: |
        <style type="text/css">
          .quarto-title-banner a {
            color: #000000;
          }
        </style>
jupyter: python3 #what language kernel to use
abstract: |
    What is our research, the main results
  # TODO: We need to work more on this section 
---

# Introduction

Insurance companies play a fundamental role in maintaining financial stability by ensuring that risks are properly managed and that sufficient capital is available to meet obligations under adverse conditions. The **Solvency II Directive**, implemented in 2016, serves as the cornerstone of insurance regulation across Europe. It establishes a risk-based framework that promotes transparency, financial soundness, and policyholder protection.

Despite the existence of this unified regulatory system, notable disparities persist among European Union (EU) countries in terms of financial composition, solvency ratios, and capital management practices. Examining these differences is essential to assess the financial strength and resilience of the European insurance sector and to understand how insurers adapt to varying economic and regulatory environments.

## Project Goals and Motivation
This project aims to analyze and compare the financial structure and insurance activity of EU countries using official data provided by the European Insurance and Occupational Pensions Authority (EIOPA). Three quarterly datasets were used for this purpose: 1. Balance Sheet 2. Premiums, Claims, and Expenses datasets and 3. Own Funds, all available in CSV format.

The current study has two main objectives. The first is to conduct an exploratory analysis of insurers’ financial structures. Focusing on assets (equities, bonds, Derivatives, Property, Holdings and Other Investments), liabilities (technical provisions for life and non life insurance) as well as their operational activity (premiums earned, claims incurred, and expenses). 
As the dataset is from 2016 to 2025 the evolution of solvency over time across is explored in EU countries.

The second objective is to develop visual tools that facilitate a comparative understanding of key financial indicators, highlighting both regional and temporal patterns in the European insurance sector. Specifically, the project compares solvency, profitability, and expense control indicators to identify differences and trends among EU member states.

## Related work 
This work was inspired by both the Insurance Economics course and the European Insurance and Occupational Pensions Authotiry (EIOPA) webpage, due to its interactive dashboards fed with Solvency II datasets. On one side, the insurance economics course introduced us to key metrics for assessing insurance markets, such as insurance penetration and insurance density, which provided a theoretical foundation on the broader insurance picture. and on second hand, exploring the EIOPA webpage and its datasets motivated us to create our own visualizations and take full ownership of the analysis process. 
By combining these resources, we were able to see firsthand how much insight can be drawn from insurance data throught 8 years (2017-2024)^2, from trends in premiums and claims to broader market dynamics.

# Research questions
- How do solvency patterns vary across the European Union countries and does solvency impact the countries’ profitability?
- To what extent does the relationship between assets and liabilities correlate with premiums collected and claims paid across EU countries?
- To what extent does the financial structure and asset allocation (e.g., investments in bonds) of insurers correlate with the volume of premiums collected across EU countries?
- Is there a relationship between the premiums earned in each country relative to their GDP?

<!-- TODO: We need to work more on this section - Expand with more details -->






- 

# Data

## Loading Data 

<!--
Use relative paths via project_root for reproducibility
Check data types after loading
Inspect the first few rows to verify correct loading
Document any loading parameters (e.g., encoding, delimiter)

Important: Do not change the data loading approach shown below. The template uses project_root from the setup chunk to ensure your code works regardless of where the report is run from.
--> 


## Processing steps <!-- TODO: Define better this section -->
# Data Management and Preparation
The data management process was conducted through several structured stages. Two datasets were utilized: one containing quaterly balance sheet data per year and another including premiums, claims, and expenses (PCE) information. Both datasets were provided in CSV format and represented quaterly financial data.

The decison to use quaterly data instead of annual data is simply to ensure that, at the end of the manipulation of the two datasets, the constraint on the number of observations is respected, i.e., to have at least 1,000 observations, which would not have been the case using the datasets in yearly format.

The initial stage consisted of gaining a thorough inderstanding of the datasets. This involved examining their structure, identifying the presence of missing values, determining the variables most relevant to the study, and reviewing the variable types available for the exploratory analysis phase. 

The variables identified as most relevant to the analysis were as follows: 
`Reporting country`, `Reference period`, `Item name (Balance Sheet)`, `Value (Balance Sheet)`, 
`Undertaking type`, `Item name (PCE)`, `Value (PCE)`, `Item name (Own Funds)`, and `Value (Own Funds)`. 
 <!-- TODO maybe change this format -->  

Before the merging process, each dataset was prepared separately. A dictionary of unique insurance product codes was created to facilitate understanding of the data and to distinguish between different categories, such as assets and goodwill. The datasets were then filtered to retain only the necessary columns, and their structure was transformed from long to wide format in order to simplify subsequent analysis and merging of the dataset.

Once the datasets were cleaned and reorganized, they were merged to ensure easier variable management and clearer graphical representations in later stages of the project. To perform the merging, Reporting country and Reference period were used as common keys. The resulting dataset had the following dimensions: 

<style>
.dataset-info {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 15px;
  margin-top: 10px;
}

.dataset-box {
  background-color: #eef4ff; /* azul claro */
  padding: 10px 20px;
  border-radius: 10px;
  font-weight: 500;
  color: #111827;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  font-size: 1em;
}
</style>

<div class="dataset-info">
  <div class="dataset-box"><b>Balance Sheet:</b> (1049, 82)</div>
  <div class="dataset-box"><b>Premiums:</b> (1049, 44)</div>
  <div class="dataset-box"><b>Final Dataset:</b> (1049, 124)</div>
</div>
  
Following the merge, missing values were addressed by replacing all N/A entries with zeros. All numerical variables were converted to the float data type and rounded to two decimal places, while the variables Reporting country and Date were preserved a categorical and temporal data types, respectively.

Finally, duplicate entries were checked and removed. The resulting dataset was clean, consistent, and ready for use in data analysis and exploratory data analysis (EDA), with the objective of addressing the defined research questions. 


```
```
# Expolatory Analysis

# Conclusion

# Appendix


# References

-   [European Insurance and Occupational Pensions Authority](https://www.eiopa.europa.eu/tools-and-data/insurance-statistics_en) This source provides statistical data and downloadable datasets about insurance companies in the EU/EEA. The data covers European (re)insurance undertakings and groups reporting regularly under Solvency II.

 ## Description 
<!--
-- Summarize the main features of the dataset, including the types of variables, their formats, and any relevant metadata.


Provide a clear summary:

    Number of observations: X rows
    Number of variables: Y columns
    Time period: Start date to end date
    Geographic coverage: Region/Country
    Key variables: List the most important variables for your analysis
-->


## Challenges and limitations
The main limitations of the dataset relates to the methodology required to merge datasets and compute various ratios and measures from different databases, while maintaining an optimal data structure for analysis.  

<!-- TODO: We need to work more on this section: refine the description of dataset limitations -->
### Missing and non-missing values

```{py}
#| code-fold: true
#| code-summary: "Click to show code"

# code 
```
```{py}
#| code-fold: true
#| code-summary: "Click to show code"

# code 
```


# Exploratory Data Analysis (EDA)
<!-- 
The next is the teacher's requirements: 
The goal of EDA is to:

  1.Understand the structure and patterns in your data
  2.Identify relationships between variables
  3.Detect anomalies, outliers, and data quality issues
  4.Generate hypotheses for further analysis
  5.Choose appropriate statistical methods

Good EDA combines visualizations + summary statistics + domain knowledge.



Creating plots is only half the work. The most important part of EDA is interpreting what your visualizations reveal about the data.

For every plot you create, you must:

    Describe what the plot shows (patterns, trends, distributions)
    Explain why these patterns matter for your research questions
    Connect findings to your project goals and domain context
    Justify subsequent analysis decisions based on these insights

A plot without interpretation is meaningless. Your grade depends heavily on the quality of your interpretations, not just the number of plots you create.
-->

## Interactive graph 
lalala 

```{py}
#| code-fold: true
#| code-summary: "Click to show code"

# code 
```

```{py}
#| code-fold: true
#| code-summary: "Click to show code"

# code 
```

## Univariate Analysis 


```{py}
#| code-fold: true
#| code-summary: "Click to show code"

# code 
```

## Bivariate Analysis
## Correlation Analysis

## Key Findings 

## Interactive graph showing the relation between variables example 
<!-- This is optional -->

::: panel-tabset
## Country

```

```



```
```

## Country

```
```


## General heatmap of correlations

## Heatmap of correlations for  country example 

::: panel-tabset
## Country

```
```

## Country

```
```
:::

# Findings and Discussion 

##  
**Analysis of interaction terms**

## 

# Conclusion

1.  **?**


2.  **?**

3.  **?**

4.  **?**
.

## Summary

## Limitations 
<!-- Honestly discuss the constraints and potential weaknesses of your analysis. Strong projects acknowledge limitations!

Consider:

    Data limitations: Sample size, missing data, measurement issues, lack of certain variables
    Methodological limitations: Simplifying assumptions, choice of methods, inability to establish causation
    Scope limitations: Time constraints, focus on specific aspects only
    Generalizability: Can your findings apply beyond your specific dataset?

Be specific: Don’t just say “small sample size” - explain what impact this has on your conclusions. -->

## Future Work 
<!-- Outline specific next steps for extending or improving the analysis. Be concrete and realistic.

Good future work suggestions:

    Collect additional data: “Gather data from additional semesters to increase sample size and assess temporal stability of instructor effects”
    Apply advanced methods: “Implement mixed-effects models to account for nested data structure (students within instructors)”
    Test additional hypotheses: “Examine whether instructor effects vary by student prior knowledge using interaction terms”
    Expand scope: “Include qualitative data from student evaluations to understand mechanisms behind performance differences”

Avoid vague statements like:

    ❌ “Get more data”
    ❌ “Use more variables”
    ❌ “Apply machine learning”

Instead, be specific about WHAT, WHY, and HOW:

    ✅ “Collect data on student study hours to control for effort as a confounding variable, which would help isolate the true causal effect of instructor quality on performance”
-->

# Appendix


# References <!-- TODO: Decide what of them keep or delete -->

**Web Articles:**
<!-- format example 
CNBC. (2024). After anti-tourism protests, Spain receives record number of travelers. *CNBC*. Retrieved from <https://www.cnbc.com/2024/10/14/after-anti-tourism-protests-spain-receives-record-number-of-travelers.html> -->


**Websites:**
<!-- format example 
World Bank. (n.d.). World Bank Open Data. *World Bank*. Retrieved from <https://data.worldbank.org/> -->

**Indicators and Data Resources:**

<!-- format example 

World Bank. (n.d.). Consumer price index (CPI). *World Bank*. Retrieved from <https://data.worldbank.org/indicator/FP.CPI.TOTL>
-->
**Glossary Entries:**
